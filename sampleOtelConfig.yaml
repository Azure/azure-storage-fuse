# Sample configuration for Blobfuse2 with OpenTelemetry logging
# This configuration demonstrates how to send logs to Azure Monitor via OpenTelemetry

# Logging configuration with OpenTelemetry
logging:
  # Use 'otel' type to enable OpenTelemetry logging
  type: otel
  level: log_debug
  
  # OTLP endpoint for OpenTelemetry Collector
  # If not specified, uses OTEL_EXPORTER_OTLP_ENDPOINT environment variable
  # For Azure Monitor: Set up an OpenTelemetry Collector with Azure Monitor exporter
  # pointing to your Application Insights connection string
  otel-endpoint: localhost:4318
  
  # Optional: Enable goroutine ID logging for debugging
  goroutine-id: false
  
  # Optional: Track time for performance monitoring
  track-time: false

components:
  - libfuse
  - file_cache
  - attr_cache
  - azstorage

libfuse:
  attribute-expiration-sec: 120
  entry-expiration-sec: 120
  negative-entry-expiration-sec: 240

file_cache:
  path: /<PATH>/<TO>/<CACHE_DIR>
  timeout-sec: 120
  max-size-mb: 4096

attr_cache:
  timeout-sec: 7200

azstorage:
  type: block
  account-name: <ACCOUNT_NAME>
  account-key: <ACCOUNT_KEY>
  mode: key
  container: <CONTAINER_NAME>
