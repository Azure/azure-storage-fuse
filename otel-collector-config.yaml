receivers:
  otlp:
    protocols:
      http:
        endpoint: 0.0.0.0:4318
      grpc:
        endpoint: 0.0.0.0:4317

processors:
  batch:
    timeout: 10s
    send_batch_size: 1024

exporters:
  azuremonitor:
    connection_string: "${APPLICATIONINSIGHTS_CONNECTION_STRING}"
    
  # Optional: Also export to console for debugging
  debug: {}

service:
  pipelines:
    logs:
      receivers: [otlp]
      processors: [batch]
      # Export to Azure Monitor only. To also see logs in collector output,
      # add 'logging' to the exporters list: exporters: [azuremonitor, logging]
      exporters: [azuremonitor]